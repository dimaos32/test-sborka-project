{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=\"./js/main.js\")}({\"../node_modules/dayjs/dayjs.min.js\":\n/*!******************************************!*\\\n  !*** ../node_modules/dayjs/dayjs.min.js ***!\n  \\******************************************/\n/*! no static exports found */function(t,e,n){t.exports=function(){\"use strict\";var t=6e4,e=36e5,n=\"millisecond\",r=\"second\",i=\"minute\",s=\"hour\",u=\"day\",o=\"week\",a=\"month\",c=\"quarter\",d=\"year\",f=\"date\",l=\"Invalid Date\",h=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,m=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},v=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},g={s:v,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+v(r,2,\"0\")+\":\"+v(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,a),s=n-i<0,u=e.clone().add(r+(s?-1:1),a);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:a,y:d,w:o,d:u,D:f,h:s,m:i,s:r,ms:n,Q:c}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$=\"en\",y={};y[$]=p;var S=function(t){return t instanceof _},w=function t(e,n,r){var i;if(!e)return $;if(\"string\"==typeof e){var s=e.toLowerCase();y[s]&&(i=s),n&&(y[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var o=e.name;y[o]=e,i=o}return!r&&i&&($=i),i||!r&&$},D=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},M=g;M.l=w,M.i=S,M.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function p(t){this.$L=w(t.locale,null,!0),this.parse(t)}var v=p.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return M},v.isValid=function(){return!(this.$d.toString()===l)},v.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return D(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<D(t)},v.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var n=this,c=!!M.u(e)||e,l=M.p(t),h=function(t,e){var r=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(u)},m=function(t,e){return M.w(n.toDate()[t].apply(n.toDate(\"s\"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},p=this.$W,v=this.$M,g=this.$D,$=\"set\"+(this.$u?\"UTC\":\"\");switch(l){case d:return c?h(1,0):h(31,11);case a:return c?h(1,v):h(0,v+1);case o:var y=this.$locale().weekStart||0,S=(p<y?p+7:p)-y;return h(c?g-S:g+(6-S),v);case u:case f:return m($+\"Hours\",0);case s:return m($+\"Minutes\",1);case i:return m($+\"Seconds\",2);case r:return m($+\"Milliseconds\",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var o,c=M.p(t),l=\"set\"+(this.$u?\"UTC\":\"\"),h=(o={},o[u]=l+\"Date\",o[f]=l+\"Date\",o[a]=l+\"Month\",o[d]=l+\"FullYear\",o[s]=l+\"Hours\",o[i]=l+\"Minutes\",o[r]=l+\"Seconds\",o[n]=l+\"Milliseconds\",o)[c],m=c===u?this.$D+(e-this.$W):e;if(c===a||c===d){var p=this.clone().set(f,1);p.$d[h](m),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[M.p(t)]()},v.add=function(n,c){var f,l=this;n=Number(n);var h=M.p(c),m=function(t){var e=D(l);return M.w(e.date(e.date()+Math.round(t*n)),l)};if(h===a)return this.set(a,this.$M+n);if(h===d)return this.set(d,this.$y+n);if(h===u)return m(1);if(h===o)return m(7);var p=(f={},f[i]=t,f[s]=e,f[r]=1e3,f)[h]||1,v=this.$d.getTime()+n*p;return M.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=M.z(this),s=this.$H,u=this.$m,o=this.$M,a=n.weekdays,c=n.months,d=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},f=function(t){return M.s(s%12||12,t,\"0\")},h=n.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:M.s(o+1,2,\"0\"),MMM:d(n.monthsShort,o,c,3),MMMM:d(c,o),D:this.$D,DD:M.s(this.$D,2,\"0\"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,a,2),ddd:d(n.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:M.s(s,2,\"0\"),h:f(1),hh:f(2),a:h(s,u,!0),A:h(s,u,!1),m:String(u),mm:M.s(u,2,\"0\"),s:String(this.$s),ss:M.s(this.$s,2,\"0\"),SSS:M.s(this.$ms,3,\"0\"),Z:i};return r.replace(m,(function(t,e){return e||p[t]||i.replace(\":\",\"\")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,f,l){var h,m=M.p(f),p=D(n),v=(p.utcOffset()-this.utcOffset())*t,g=this-p,$=M.m(this,p);return $=(h={},h[d]=$/12,h[a]=$,h[c]=$/3,h[o]=(g-v)/6048e5,h[u]=(g-v)/864e5,h[s]=g/e,h[i]=g/t,h[r]=g/1e3,h)[m]||g,l?$:M.a($)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return y[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},v.clone=function(){return M.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},p}(),j=_.prototype;return D.prototype=j,[[\"$ms\",n],[\"$s\",r],[\"$m\",i],[\"$H\",s],[\"$W\",u],[\"$M\",a],[\"$y\",d],[\"$D\",f]].forEach((function(t){j[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t.$i||(t(e,_,D),t.$i=!0),D},D.locale=w,D.isDayjs=S,D.unix=function(t){return D(1e3*t)},D.en=y[$],D.Ls=y,D.p={},D}()},\"./js/main.js\":\n/*!********************!*\\\n  !*** ./js/main.js ***!\n  \\********************/\n/*! no exports provided */function(t,e,n){\"use strict\";n.r(e);var r=n(/*! ./utils/ios-vh-fix */\"./js/utils/ios-vh-fix.js\"),i=n(/*! ./modules/departure-options */\"./js/modules/departure-options.js\"),s=n(/*! ./modules/schedule */\"./js/modules/schedule.js\");window.addEventListener(\"DOMContentLoaded\",(function(){Object(r.iosVhFix)(),Object(i.initDepartureOptions)(),window.addEventListener(\"load\",(function(){Object(s.initSchedule)()}))}))},\"./js/mock/schedule.js\":\n/*!*****************************!*\\\n  !*** ./js/mock/schedule.js ***!\n  \\*****************************/\n/*! exports provided: Direction, TicketPrice, Schedule, getQEndings */function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Direction\",(function(){return o})),n.d(e,\"TicketPrice\",(function(){return a})),n.d(e,\"Schedule\",(function(){return d})),n.d(e,\"getQEndings\",(function(){return f}));var r=n(/*! dayjs */\"../node_modules/dayjs/dayjs.min.js\"),i=n.n(r),s=[\"18:00\",\"18:30\",\"18:45\",\"19:00\",\"19:15\",\"21:00\"],u=[\"18:30\",\"18:45\",\"19:00\",\"19:15\",\"19:35\",\"21:50\",\"21:55\"],o={DIRECT:\"direct\",RETURN:\"return\",BOTH_SIDES:\"both-sides\"},a={direct:700,return:700,\"both-sides\":1200},c={ticket:[\"билет\",\"билета\",\"билетов\"],hour:[\"час\",\"часа\",\"часов\"],minute:[\"минута\",\"минуты\",\"минут\"]},d={getDirectDepartures:function(){return s.map((function(t){var e=t.split(\":\");return[t,i()().hour(e[0]).minute(e[1]).second(0)]}))},getReturnDepartures:function(){return u.map((function(t){var e=t.split(\":\");return[t,i()().hour(e[0]).minute(e[1]).second(0)]}))},getTripTime:function(){return 50},getMinimumAttendanceTime:function(){return 0}},f=function(t,e){if(t%100<11||t%100>14){if(t%10==1)return c[e][0];if(t%10>1&&t%10<5)return c[e][1]}return c[e][2]}},\"./js/modules/departure-options.js\":\n/*!*****************************************!*\\\n  !*** ./js/modules/departure-options.js ***!\n  \\*****************************************/\n/*! exports provided: initDepartureOptions */function(t,e,n){\"use strict\";n.r(e),n.d(e,\"initDepartureOptions\",(function(){return s}));var r=document.querySelectorAll(\".offer-card__departure-list\"),i=function(t){return Array.from(t).reduce((function(t,e){return t+e.offsetWidth}),0)},s=function(){r.length&&r.forEach((function(t){var e=t.querySelector(\".offer-card__departure-hidden-list\"),n=t.querySelector(\"[data-departure-show-more]\"),r=n.querySelector(\"[data-departure-show-more-link]\"),s=function(){var r=t.querySelectorAll(\".offer-card__departure-item:not([data-departure-show-more])\"),s=i(r);if(t.offsetWidth<s)for(n.classList.remove(\"is-hide\");t.offsetWidth-2-n.offsetWidth<s;)r[r.length-2].classList.remove(\"offer-card__departure-item\"),r[r.length-2].classList.add(\"offer-card__departure-hidden-item\"),e.append(r[r.length-2]),r=t.querySelectorAll(\".offer-card__departure-item:not([data-departure-show-more])\"),s=i(r)},u=function(){t.querySelectorAll(\".offer-card__departure-hidden-item\").forEach((function(e){n.classList.add(\"is-hide\"),e.classList.remove(\"offer-card__departure-hidden-item\"),e.classList.add(\"offer-card__departure-item\"),t.append(e),t.append(n)}))},o=function t(e){e.target.closest(\"[data-departure-show-more]\")||(window.removeEventListener(\"click\",t),a())},a=function(){e.classList.remove(\"is-shown\")};u(),s(),r.addEventListener(\"click\",(function(t){t.preventDefault(),e.classList.contains(\"is-shown\")?a():(e.classList.add(\"is-shown\"),window.addEventListener(\"click\",o))})),window.addEventListener(\"resize\",(function(){u(),s()}))}))}},\"./js/modules/schedule.js\":\n/*!********************************!*\\\n  !*** ./js/modules/schedule.js ***!\n  \\********************************/\n/*! exports provided: initSchedule */function(t,e,n){\"use strict\";n.r(e),n.d(e,\"initSchedule\",(function(){return s}));var r=n(/*! ../mock/schedule */\"./js/mock/schedule.js\"),i=document.querySelector(\".schedule\"),s=function(){if(i){var t=r.Schedule.getTripTime(),e=r.Schedule.getMinimumAttendanceTime(),n=r.Schedule.getDirectDepartures(),s=r.Schedule.getReturnDepartures(),u=i.querySelector(\"[data-direction-select]\"),o=i.querySelector(\"[data-direct-departure]\"),a=o.querySelector(\"[data-direct-departure-select]\"),c=i.querySelector(\"[data-return-departure]\"),d=c.querySelector(\"[data-return-departure-select]\"),f=i.querySelector(\"[data-tickets-qty]\"),l=i.querySelector(\"[data-calculate-btn]\"),h=i.querySelector(\"[data-message]\"),m=function(t){return t.map((function(t){return'<option value=\"'.concat(t[0].replace(\":\",\"-\"),'-direct\">').concat(t[0],\"</option>\")}))},p=function(t,e){var n=t.replace(\"-direct\",\"\").replace(\"-\",\":\");return e.find((function(t){return t[0]===n}))[1]},v=function(){var r=p(a.value,n).add(t+e,\"minute\"),i=s.filter((function(t){return t[1].isAfter(r)}));d.innerHTML=m(i)},g=function(t){switch(t){case r.Direction.DIRECT:o.classList.remove(\"is-hide\"),c.classList.add(\"is-hide\");break;case r.Direction.RETURN:o.classList.add(\"is-hide\"),c.classList.remove(\"is-hide\"),d.innerHTML=m(s);break;case r.Direction.BOTH_SIDES:o.classList.remove(\"is-hide\"),c.classList.remove(\"is-hide\"),v();break;default:throw new Error(\"Unknown case\")}},$=function(i,o){var c,f,l,h,m,v=r.TicketPrice[i]*o,g=u.querySelector('option[value=\"'.concat(i,'\"]')).textContent,$=function(i){switch(i){case r.Direction.DIRECT:var u=p(a.value,n);return[u,u.add(t+e,\"minute\")];case r.Direction.RETURN:var o=p(d.value,s);return[o,o.add(t+e,\"minute\")];case r.Direction.BOTH_SIDES:return[p(a.value,n),p(d.value,s).add(t+e,\"minute\")];default:throw new Error(\"Unknown case\")}}(i);return\"\\n      <p>Вы выбрали <strong>\".concat(o,\"</strong> \").concat(Object(r.getQEndings)(o,\"ticket\"),\" <strong>\").concat(g,\"</strong> стоимостью <strong>\").concat(v,\" руб.</strong></p>\\n      <p>Это путешествие займет у вас <strong>\").concat((c=$,f=c[1].diff(c[0],\"hour\"),l=c[1].diff(c[0],\"minute\")%60,h=f>0?\"\".concat(f,\" \").concat(Object(r.getQEndings)(f,\"hour\"),\" \"):\"\",m=l>0?\"\".concat(l,\" \").concat(Object(r.getQEndings)(l,\"minute\")):\"\",\"\".concat(h).concat(m)).trim(),\"</strong>.</p>\\n      <p>Теплоход отправляется в <strong>\").concat($[0].format(\"H-mm\"),\"</strong>, а прибудет в <strong>\").concat($[1].format(\"H-mm\"),\"</strong>.</p>\\n    \")};a.innerHTML=m(n),g(u.value),u.addEventListener(\"change\",(function(){g(u.value)})),a.addEventListener(\"change\",(function(){v()})),f.addEventListener(\"change\",(function(t){var e=t.target;Number(e.value)<Number(e.min)&&(e.value=e.min),Number(e.value)>Number(e.max)&&(e.value=e.max)})),l.addEventListener(\"click\",(function(){h.classList.remove(\"is-hide\"),f.value?h.innerHTML=$(u.value,f.value):h.innerHTML='\\n    <p class=\"warning\">Необходимо указать кол-во билетов.</p>\\n  '}))}}},\"./js/utils/ios-checker.js\":\n/*!*********************************!*\\\n  !*** ./js/utils/ios-checker.js ***!\n  \\*********************************/\n/*! exports provided: iosChecker */function(t,e,n){\"use strict\";n.r(e),n.d(e,\"iosChecker\",(function(){return r}));var r=function(){return[\"iPad Simulator\",\"iPhone Simulator\",\"iPod Simulator\",\"iPad\",\"iPhone\",\"iPod\"].includes(navigator.platform)||navigator.userAgent.includes(\"Mac\")&&\"ontouchend\"in document}},\"./js/utils/ios-vh-fix.js\":\n/*!********************************!*\\\n  !*** ./js/utils/ios-vh-fix.js ***!\n  \\********************************/\n/*! exports provided: iosVhFix */function(t,e,n){\"use strict\";n.r(e),n.d(e,\"iosVhFix\",(function(){return i}));var r=n(/*! ./ios-checker */\"./js/utils/ios-checker.js\"),i=function(){if((!window.MSInputMethodContext||!document.documentMode)&&Object(r.iosChecker)()){var t=.01*window.innerHeight;document.documentElement.style.setProperty(\"--vh\",\"\".concat(t,\"px\")),window.addEventListener(\"resize\",(function(){t=.01*window.innerHeight,document.documentElement.style.setProperty(\"--vh\",\"\".concat(t,\"px\"))}))}}}});","extractedComments":[]}